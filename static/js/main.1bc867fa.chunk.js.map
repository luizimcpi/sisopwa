{"version":3,"sources":["app/service/localStorageService.js","app/service/authService.js","provedorAutenticacao.js","views/lancamentos/cadastroLancamentosForm.js","app/service/apiService.js","app/exception/erroValidacao.js","app/service/lancamentoService.js","views/lancamentos/cadastroLancamentos.js","views/usuarios/usuarioForm.js","app/service/usuarioService.js","views/usuarios/cadastroUsuario.js","views/lancamentos/consultaLancamentosForm.js","views/lancamentos/consultaLancamentosTable.js","views/lancamentos/consultaLancamentos.js","views/home/homeCard.js","views/home/home.js","views/login/loginForm.js","views/login/login.js","rotas.js","Main.js","index.js"],"names":["LocalStorageService","adicionarItem","chave","valor","localStorage","setItem","JSON","stringify","obterItem","item","getItem","parse","removerItem","removeItem","USUARIO_LOGADO","TOKEN","AuthService","isUsuarioAutenticado","token","expirationDate","jwt","decode","exp","Date","now","removerUsuarioAutenticado","logar","usuario","obterUsuarioAutenticado","refreshSession","AuthContext","React","createContext","AuthConsumer","Consumer","AuthProvider","Provider","ProvedorAutenticacao","Component","constructor","arguments","state","usuarioAutenticado","isAutenticado","isLoading","iniciarSessao","accessToken","this","setState","encerrarSessao","componentDidMount","previousState","_objectSpread","render","contexto","_jsx","value","children","props","CadastroLancamentosForm","id","setId","useState","descricao","setDescricao","setValor","mes","setMes","ano","setAno","tipo","setTipo","status","setStatus","atualizando","setAtualizando","useEffect","lancamentoAtualizar","optionsMeses","meses","map","option","index","label","optionsTipos","tipos","Card","_jsxs","CardContent","LoginScreenTitle","List","form","ListInput","type","placeholder","onInput","e","target","replace","onChange","event","disabled","style","display","onClick","preventDefault","cadastrar","className","atualizar","cancelar","httpClient","axios","create","baseURL","ApiService","apiurl","post","url","objeto","requestUrl","concat","put","delete","get","getWithAuthorization","usuarioLogado","headers","postWithAuthorization","postWithAuthorizationWithoutBody","putWithAuthorization","deleteWithAuthorization","ErroValidacao","mensagens","LancamentoService","super","obterListaMeses","obterListaTipos","obterPorId","salvar","lancamento","alterarStatus","consultar","lancamentoFiltro","params","deletar","duplicarLancamentos","mesAtual","validar","erros","push","length","CadastroLancamentos","showLoadingDialog","submit","dados","context","lancamentoService","erro","forEach","msg","f7","dialog","alert","preloader","then","response","close","history","catch","error","data","aoSair","match","Page","Progressbar","infinite","color","contextType","withRouter","UsuarioForm","_ref","voltar","nome","setNome","email","setEmail","senha","setSenha","senhaRepeticao","setSenhaRepeticao","noToolbar","noNavbar","noSwipeback","loginScreen","Fab","position","slot","Icon","ios","aurora","md","FabButtons","FabButton","BlockFooter","UsuarioService","autenticar","credenciais","obterSaldoPorUsuario","CadastroUsuario","goHome","aoCadastrarForm","service","message","Fragment","ConsultaLancamentoForm","buscar","anoAtual","moment","format","LancamentosTable","getNameOfMonth","monthNumber","totalReceitas","totalDespesas","rows","lancamentos","ListItem","title","after","subtitle","currencyFormatter","locale","text","Row","Col","Button","fill","editarAction","deletarAction","mediaList","ConsultaLancamentos","showTableDialog","lancamentoDeletar","aoBuscarForm","lista","editar","aoDuplicarLancamentos","console","log","aoAlterarStatus","indexOf","abrirConfirmacao","buttons","verticalButtons","open","splice","fecharTabela","Navbar","ConsultaLancamentosForm","HomeCard","deslogar","showBalance","setShowBalance","saldoAtual","saldo","nomeUsuario","saldoAtualFormatado","content","footer","changeShowBalance","Home","aoConsultarLancamentos","usuarioService","LoginForm","entrar","usuarios","Login","aoEntrarForm","trim","httpStatus","FORBIDDEN","toUsuarios","RotaAutenticada","component","_objectWithoutProperties","_excluded","Route","componentProps","Redirect","to","pathname","from","location","RotasApp","HashRouter","Switch","path","exact","Rotas","f7params","name","theme","routes","Main","App","Framework7","use","Framework7React","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.1bc867fa.chunk.js","sourcesContent":["export default class LocalStorageService {\r\n    \r\n    static adicionarItem(chave, valor){\r\n        localStorage.setItem(chave, JSON.stringify(valor));\r\n    }\r\n\r\n    static obterItem(chave){\r\n        const item = localStorage.getItem(chave);\r\n        return JSON.parse(item)\r\n    }\r\n\r\n    static removerItem(chave){\r\n        localStorage.removeItem(chave)\r\n    }\r\n}","import LocalStorageService from './localStorageService'\r\nimport jwt from 'jsonwebtoken'\r\n\r\nexport const USUARIO_LOGADO = '_usuario_logado'\r\nexport const TOKEN = 'accessToken'\r\n\r\nexport default class AuthService {\r\n\r\n    static isUsuarioAutenticado(){\r\n        const token = LocalStorageService.obterItem(TOKEN)\r\n        if(!token){\r\n            return false\r\n        }\r\n        const decodedToken = jwt.decode(token)\r\n        const expirationDate = decodedToken.exp\r\n   \r\n        const isTokenInvalido = Date.now() >= (expirationDate * 1000)\r\n    \r\n        return !isTokenInvalido\r\n    }\r\n\r\n    static removerUsuarioAutenticado(){\r\n        LocalStorageService.removerItem(USUARIO_LOGADO)\r\n        LocalStorageService.removerItem(TOKEN)\r\n    }\r\n\r\n    static logar(usuario, token){\r\n        LocalStorageService.adicionarItem(USUARIO_LOGADO, usuario)\r\n        LocalStorageService.adicionarItem(TOKEN, token)\r\n    }\r\n\r\n    static obterUsuarioAutenticado(){\r\n        return LocalStorageService.obterItem(USUARIO_LOGADO)\r\n    }\r\n\r\n    static refreshSession(){\r\n        const token = LocalStorageService.obterItem(TOKEN)\r\n        const usuario = AuthService.obterUsuarioAutenticado()\r\n        AuthService.logar(usuario, token)\r\n        return usuario\r\n    }\r\n\r\n}","import AuthService from './app/service/authService'\r\nimport React from 'react'\r\n\r\nexport const AuthContext = React.createContext()\r\nexport const AuthConsumer = AuthContext.Consumer;\r\nconst AuthProvider = AuthContext.Provider;\r\n\r\nclass ProvedorAutenticacao extends React.Component{\r\n\r\n\r\n    state = {\r\n        usuarioAutenticado: null,\r\n        isAutenticado: false,\r\n        isLoading: true\r\n    }\r\n\r\n    iniciarSessao = (usuario) => {\r\n        AuthService.logar(usuario, usuario.accessToken)\r\n        this.setState({ isAutenticado: true, usuarioAutenticado: usuario })\r\n    }\r\n    \r\n    encerrarSessao = () => {\r\n        AuthService.removerUsuarioAutenticado()\r\n        this.setState({ isAutenticado: false, usuarioAutenticado: null })\r\n    }\r\n\r\n    async componentDidMount(){\r\n        const isAutenticado = AuthService.isUsuarioAutenticado()\r\n        if(isAutenticado){\r\n            const usuario = await AuthService.refreshSession()\r\n            this.setState({ isAutenticado: true, usuarioAutenticado: usuario, isLoading: false })\r\n        } else {\r\n            this.setState( previousState => {  \r\n                return {\r\n                    ...previousState,\r\n                    isLoading: false\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        if(this.state.isLoading){\r\n            return null;\r\n        }\r\n\r\n        const contexto = {\r\n            usuarioAutenticado: this.state.usuarioAutenticado,\r\n            isAutenticado: this.state.isAutenticado,\r\n            iniciarSessao: this.iniciarSessao,\r\n            encerrarSessao: this.encerrarSessao\r\n        }\r\n        return(\r\n            <AuthProvider value={contexto}>\r\n                {this.props.children}\r\n            </AuthProvider>\r\n        )\r\n    }\r\n}\r\n\r\nexport default ProvedorAutenticacao","import {\r\n  Card,\r\n  CardContent,\r\n  List,\r\n  ListInput,\r\n  LoginScreenTitle\r\n} from 'framework7-react'\r\nimport { React, useEffect, useState } from 'react';\r\n\r\nconst CadastroLancamentosForm = (props) => {\r\n  \r\n  const [id, setId] = useState(\"\")\r\n  const [descricao, setDescricao] = useState(\"\")\r\n  const [valor, setValor] = useState(\"\")\r\n  const [mes, setMes] = useState(\"\")\r\n  const [ano, setAno] = useState(\"\")\r\n  const [tipo, setTipo] = useState(\"\")\r\n  const [status, setStatus] = useState(\"\")\r\n  const [atualizando, setAtualizando] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    setId(props.lancamentoAtualizar.id)\r\n    setDescricao(props.lancamentoAtualizar.descricao)\r\n    setValor(props.lancamentoAtualizar.valor)\r\n    setMes(props.lancamentoAtualizar.mes)\r\n    setAno(props.lancamentoAtualizar.ano)\r\n    setTipo(props.lancamentoAtualizar.tipo)\r\n    setStatus(props.lancamentoAtualizar.status)\r\n    setAtualizando(props.lancamentoAtualizar.atualizando)\r\n  }, [\r\n        props.lancamentoAtualizar.id,\r\n        props.lancamentoAtualizar.descricao, \r\n        props.lancamentoAtualizar.valor, \r\n        props.lancamentoAtualizar.mes, \r\n        props.lancamentoAtualizar.ano, \r\n        props.lancamentoAtualizar.tipo,\r\n        props.lancamentoAtualizar.status,\r\n        props.lancamentoAtualizar.atualizando\r\n      ]);\r\n\r\n  const optionsMeses = props.meses.map((option, index) =>\r\n    <option key={index} value={option.value}>{option.label}</option>\r\n  )\r\n\r\n  const optionsTipos = props.tipos.map((option, index) =>\r\n    <option key={index} value={option.value}>{option.label}</option>\r\n  )\r\n\r\n  const register = () => {\r\n    props.cadastrar({descricao, valor, mes, ano, tipo})\r\n  }\r\n\r\n  const refresh = () => {\r\n    props.atualizar({descricao, valor, mes, ano, tipo, status, id})\r\n  }\r\n\r\n  return (\r\n\r\n    <Card>\r\n    <CardContent>\r\n      <LoginScreenTitle>{atualizando ? 'Atualização de Lançamento' : 'Cadastro de Lançamentos'}</LoginScreenTitle>\r\n      <List form>\r\n        <ListInput\r\n            label=\"Descrição\"\r\n            type=\"text\"\r\n            placeholder=\"Descrição\"\r\n            value={descricao}\r\n            onInput={(e) => {\r\n              setDescricao(e.target.value);\r\n            }}\r\n          />\r\n          <ListInput\r\n            label=\"Valor\"\r\n            type=\"text\"\r\n            placeholder=\"Valor\"\r\n            value={valor}\r\n            onInput={(e) => {\r\n              setValor(e.target.value.replace(',', '.'));\r\n            }}\r\n          />\r\n\r\n          <ListInput\r\n            label=\"Mes\"\r\n            type=\"select\"  \r\n            placeholder=\"Escolha o mês...\"\r\n            value={mes}\r\n            onChange={\r\n                event => {\r\n                    setMes(event.target.value);\r\n                }\r\n            }>\r\n            {optionsMeses}\r\n          </ListInput>\r\n\r\n          <ListInput\r\n            label=\"Ano\"\r\n            type=\"text\"\r\n            placeholder=\"Ano\"\r\n            value={ano}\r\n            onInput={(e) => {\r\n              setAno(e.target.value);\r\n            }}\r\n          />\r\n       \r\n          <ListInput\r\n            label=\"Tipo\"\r\n            type=\"select\"\r\n            placeholder=\"Escolha um tipo...\"\r\n            value={tipo}\r\n            onChange={\r\n                    event => {\r\n                        setTipo(event.target.value);\r\n                    }\r\n                }\r\n           >\r\n            {optionsTipos}\r\n          </ListInput>\r\n\r\n          <ListInput\r\n            label=\"Status\"\r\n            type=\"text\"\r\n            placeholder=\"Status\"\r\n            value={status}\r\n            disabled\r\n          />\r\n        <button style={{ display: !atualizando ? 'block': 'none'}} onClick={(e) => {\r\n            e.preventDefault()\r\n            register()\r\n            }} \r\n            className=\"col button button-raised\">Cadastrar</button>\r\n        <button style={{ display: atualizando ? 'block': 'none'}} onClick={(e) => {\r\n            e.preventDefault()\r\n            refresh()}} \r\n            className=\"col button button-raised\">Atualizar</button>\r\n        <br/>\r\n        <button onClick={props.cancelar} className=\"col button button-raised button-fill\">Cancelar</button>\r\n      </List>\r\n    </CardContent>\r\n  </Card>\r\n  );\r\n}\r\n\r\nexport default CadastroLancamentosForm;","import axios from 'axios'\r\n\r\nconst httpClient = axios.create({\r\n    baseURL: 'https://sistema.siso.com.br',\r\n})\r\n\r\nclass ApiService {\r\n    \r\n    constructor(apiurl){\r\n        this.apiurl = apiurl;\r\n    }\r\n\r\n    post(url, objeto){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.post(requestUrl, objeto);\r\n    }\r\n\r\n    put(url, objeto){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.put(requestUrl, objeto);\r\n    }\r\n\r\n    delete(url){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.delete(requestUrl);\r\n    }\r\n\r\n    get(url){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.get(requestUrl);\r\n    }\r\n\r\n    getWithAuthorization(url, usuarioLogado){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.get(requestUrl, {\r\n            headers: {\r\n                'Authorization': `Bearer ${usuarioLogado.accessToken}`,\r\n                'usuarioId': usuarioLogado.id\r\n            }\r\n        });\r\n    }\r\n\r\n    postWithAuthorization(url, objeto, usuarioLogado){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.post(requestUrl, objeto, {\r\n            headers: {\r\n                'Authorization': `Bearer ${usuarioLogado.accessToken}`,\r\n                'usuarioId': usuarioLogado.id\r\n            }\r\n        });\r\n    }\r\n\r\n    postWithAuthorizationWithoutBody(url, usuarioLogado){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.post(requestUrl, {}, {\r\n            headers: {\r\n                'Authorization': `Bearer ${usuarioLogado.accessToken}`,\r\n                'usuarioId': usuarioLogado.id\r\n            }\r\n        });\r\n    }\r\n\r\n    putWithAuthorization(url, objeto, usuarioLogado){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.put(requestUrl, objeto, {\r\n            headers: {\r\n                'Authorization': `Bearer ${usuarioLogado.accessToken}`,\r\n                'usuarioId': usuarioLogado.id\r\n            }\r\n        });\r\n    }\r\n\r\n    deleteWithAuthorization(url, usuarioLogado){\r\n        const requestUrl = `${this.apiurl}${url}`\r\n        return httpClient.delete(requestUrl, {\r\n            headers: {\r\n                'Authorization': `Bearer ${usuarioLogado.accessToken}`,\r\n                'usuarioId': usuarioLogado.id\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default ApiService;","function ErroValidacao(mensagens){\r\n    this.mensagens = mensagens\r\n}\r\n\r\nexport default ErroValidacao","import ApiService from './apiService'\r\nimport ErroValidacao from '../exception/erroValidacao'\r\n\r\nexport default class LancamentoService extends ApiService {\r\n    \r\n    constructor(){\r\n        super('/api/lancamentos')\r\n    }\r\n\r\n    obterListaMeses(){\r\n        return [\r\n            {label: 'Selecione...', value: ''},\r\n            {label: 'Janeiro', value: 1},\r\n            {label: 'Fevereiro', value: 2},\r\n            {label: 'Março', value: 3},\r\n            {label: 'Abril', value: 4},\r\n            {label: 'Maio', value: 5},\r\n            {label: 'Junho', value: 6},\r\n            {label: 'Julho', value: 7},\r\n            {label: 'Agosto', value: 8},\r\n            {label: 'Setembro', value: 9},\r\n            {label: 'Outubro', value: 10},\r\n            {label: 'Novembro', value: 11},\r\n            {label: 'Dezembro', value: 12},\r\n        ]\r\n    }\r\n\r\n    obterListaTipos(){\r\n        return [\r\n            {label: 'Selecione...', value: ''},\r\n            {label: 'Despesa', value: 'DESPESA'},\r\n            {label: 'Receita', value: 'RECEITA'},\r\n        ]\r\n    }\r\n\r\n    obterPorId(id, usuarioLogado){\r\n        return this.getWithAuthorization(`/${id}`, usuarioLogado)\r\n    }\r\n\r\n    salvar(lancamento, usuarioLogado){\r\n        return this.postWithAuthorization('', lancamento, usuarioLogado)\r\n    }\r\n\r\n    atualizar(lancamento, usuarioLogado){\r\n        return this.putWithAuthorization(`/${lancamento.id}`, lancamento, usuarioLogado)\r\n    }\r\n\r\n    alterarStatus(id, status, usuarioLogado){\r\n        return this.putWithAuthorization(`/${id}/status`, { status }, usuarioLogado)\r\n    }\r\n\r\n    consultar(lancamentoFiltro, usuarioLogado){\r\n        let params = `?ano=${lancamentoFiltro.ano}`\r\n\r\n        if(lancamentoFiltro.mes){\r\n            params = `${params}&mes=${lancamentoFiltro.mes}`\r\n        }\r\n        \r\n        if(lancamentoFiltro.tipo){\r\n            params = `${params}&tipo=${lancamentoFiltro.tipo}`\r\n        }\r\n        \r\n        if(lancamentoFiltro.status){\r\n            params = `${params}&status=${lancamentoFiltro.status}`\r\n        }\r\n\r\n        if(lancamentoFiltro.descricao){\r\n            params = `${params}&descricao=${lancamentoFiltro.descricao}`\r\n        }\r\n\r\n        return this.getWithAuthorization(params, usuarioLogado)\r\n    }\r\n\r\n    deletar(id, usuarioLogado){\r\n        return this.deleteWithAuthorization(`/${id}`, usuarioLogado)\r\n    }\r\n\r\n    duplicarLancamentos(mesAtual, usuarioLogado){\r\n        return this.postWithAuthorizationWithoutBody(`/${mesAtual}`, usuarioLogado)\r\n    }\r\n\r\n    validar(lancamento){\r\n        const erros = []\r\n\r\n        if(!lancamento.ano){\r\n            erros.push(\"Informe o Ano.\")\r\n        }\r\n\r\n        if(!lancamento.mes){\r\n            erros.push(\"Informe o Mês.\")\r\n        }\r\n\r\n        if(!lancamento.descricao){\r\n            erros.push(\"Informe a Descrição.\")\r\n        }\r\n\r\n        if(!lancamento.valor){\r\n            erros.push(\"Informe o Valor.\")\r\n        }\r\n\r\n        if(!lancamento.tipo){\r\n            erros.push(\"Informe o Tipo.\")\r\n        }\r\n\r\n        if(erros && erros.length > 0){\r\n            throw new ErroValidacao(erros)\r\n        }\r\n    }\r\n}","import { AuthContext } from '../../provedorAutenticacao'\r\nimport CadastroLancamentosForm from './cadastroLancamentosForm'\r\nimport LancamentoService from '../../app/service/lancamentoService'\r\nimport React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport {\r\n    Page,\r\n    Progressbar,\r\n    f7\r\n} from 'framework7-react'\r\n\r\nclass CadastroLancamentos extends React.Component {\r\n\r\n    state = {\r\n        showLoadingDialog: false,\r\n        lancamentoAtualizar: {\r\n            id: null,\r\n            descricao: '',\r\n            valor: '',\r\n            mes: '',\r\n            ano: '',\r\n            tipo: '',\r\n            status: '',\r\n            atualizando: false\r\n        }\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.lancamentoService = new LancamentoService()\r\n    }\r\n\r\n    componentDidMount(){\r\n        const params = this.props.match.params\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n        if(params.id && usuarioLogado){\r\n            \r\n            this.setState({showLoadingDialog: true})\r\n            const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n            \r\n            this.lancamentoService\r\n            .obterPorId(params.id, usuarioLogado)\r\n            .then(response => {\r\n                preloader.close()\r\n                this.setState({ lancamentoAtualizar: { \r\n                    id: response.data.id,\r\n                    descricao: response.data.descricao,\r\n                    valor: response.data.valor,\r\n                    mes: response.data.mes,\r\n                    ano: response.data.ano,\r\n                    tipo: response.data.tipo,\r\n                    status: response.data.status,\r\n                    atualizando: true,\r\n                } , showLoadingDialog: false })\r\n            }).catch(error => {\r\n                preloader.close()\r\n                f7.dialog.alert(error.response.data, () => {})\r\n                this.setState({showLoadingDialog: false})\r\n            })\r\n        }\r\n    }\r\n    \r\n    submit = (dados) => {\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n\r\n        const { descricao, valor, mes, ano, tipo} = dados\r\n\r\n        const lancamento = { descricao, valor, mes, ano, tipo }\r\n\r\n        try {\r\n            this.lancamentoService.validar(lancamento)\r\n        }catch(erro){\r\n            const mensagens = erro.mensagens\r\n            mensagens.forEach(msg =>  f7.dialog.alert(msg, () => {}))\r\n            return false\r\n        }\r\n\r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.lancamentoService\r\n        .salvar(lancamento, usuarioLogado)\r\n        .then( response => {\r\n            preloader.close()\r\n            f7.dialog.alert('Lançamento cadastrado com sucesso!', () => {})\r\n            this.setState({showLoadingDialog: false})\r\n            this.props.history.push('/consulta-lancamentos')\r\n        }).catch(error => {\r\n            preloader.close()\r\n            f7.dialog.alert(error.response.data, () => {})\r\n            this.setState({showLoadingDialog: false})\r\n        })\r\n    } \r\n\r\n    atualizar = (dados) => {\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n    \r\n        const { descricao, valor, mes, ano, tipo, status, id} = dados\r\n        const lancamento = { descricao, valor, mes, ano, tipo, status, id }\r\n\r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.lancamentoService\r\n        .atualizar(lancamento, usuarioLogado)\r\n        .then( response => {\r\n            preloader.close()\r\n            f7.dialog.alert('Lançamento atualizado com sucesso!', () => {})\r\n            this.setState({showLoadingDialog: false})\r\n            this.props.history.push('/consulta-lancamentos')\r\n        }).catch(error => {\r\n            preloader.close()\r\n            f7.dialog.alert( error.response.data, () => {})\r\n            this.setState({showLoadingDialog: false})\r\n        })\r\n    }\r\n\r\n    cancelar = () => {\r\n        this.props.history.push('/consulta-lancamentos')\r\n    }\r\n\r\n    aoSair = () => {\r\n        this.context.encerrarSessao()\r\n        this.props.history.push('/login')\r\n    }\r\n    \r\n    render(){\r\n\r\n        const tipos = this.lancamentoService.obterListaTipos()\r\n        const meses = this.lancamentoService.obterListaMeses()\r\n\r\n        return (\r\n            <Page>\r\n                <Progressbar infinite color=\"blue\" style={{ display: this.state.showLoadingDialog ? 'block': 'none'}} />\r\n                <CadastroLancamentosForm \r\n                    meses={meses} \r\n                    tipos={tipos} \r\n                    cancelar={this.cancelar} \r\n                    cadastrar={this.submit} \r\n                    atualizar={this.atualizar} \r\n                    lancamentoAtualizar={this.state.lancamentoAtualizar}\r\n                />\r\n            </Page>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nCadastroLancamentos.contextType = AuthContext\r\n\r\nexport default withRouter(CadastroLancamentos)","import {\r\n  BlockFooter,\r\n  Fab,\r\n  FabButton,\r\n  FabButtons,\r\n  Icon,\r\n  List,\r\n  ListInput,\r\n  LoginScreenTitle,\r\n  Page\r\n} from 'framework7-react';\r\nimport { React, useState } from 'react';\r\n\r\nexport default function UsuarioForm({cadastrar, voltar}) {\r\n  const [nome, setNome] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [senha, setSenha] = useState(\"\")\r\n  const [senhaRepeticao, setSenhaRepeticao] = useState(\"\")\r\n  const submitCadastro = () => {\r\n    cadastrar({nome, email, senha, senhaRepeticao})\r\n  }\r\n\r\n  return (\r\n    <Page noToolbar noNavbar noSwipeback loginScreen>\r\n        <LoginScreenTitle>Cadastro de Usuários</LoginScreenTitle>\r\n        <List form>\r\n            <ListInput\r\n              label=\"Nome\"\r\n              type=\"text\"\r\n              placeholder=\"Seu nome\"\r\n              value={nome}\r\n              onInput={(e) => {\r\n                setNome(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"E-mail\"\r\n              type=\"text\"\r\n              placeholder=\"Seu e-mail\"\r\n              value={email}\r\n              onInput={(e) => {\r\n                setEmail(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"Senha\"\r\n              type=\"password\"\r\n              placeholder=\"Sua senha\"\r\n              value={senha}\r\n              onInput={(e) => {\r\n                setSenha(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"Confirmação de Senha\"\r\n              type=\"password\"\r\n              placeholder=\"Confirme a senha digitada...\"\r\n              value={senhaRepeticao}\r\n              onInput={(e) => {\r\n                setSenhaRepeticao(e.target.value);\r\n              }}\r\n            />\r\n         \r\n        </List>\r\n\r\n        <Fab position=\"right-bottom\" slot=\"fixed\" color=\"pink\">\r\n          <Icon ios=\"f7:plus\" aurora=\"f7:plus\" md=\"f7:plus\"></Icon>\r\n          <Icon ios=\"f7:xmark\" aurora=\"f7:xmark\" md=\"f7:xmark\"></Icon>\r\n          <FabButtons position=\"left\">\r\n            <FabButton onClick={(e) => {\r\n            e.preventDefault()\r\n            submitCadastro()\r\n            }}>\r\n              <Icon ios=\"f7:checkmark\" aurora=\"f7:checkmark\" md=\"f7:checkmark\"></Icon>\r\n            </FabButton>\r\n            <FabButton onClick={voltar}>\r\n              <Icon ios=\"f7:arrow_uturn_left\" aurora=\"f7:arrow_uturn_left\" md=\"f7:arrow_uturn_left\"></Icon>\r\n            </FabButton>\r\n          </FabButtons>\r\n        </Fab>\r\n       \r\n        <List>\r\n          <BlockFooter>\r\n           Todos os direitos reservados. 2024\r\n          </BlockFooter>\r\n        </List>\r\n\r\n      </Page>\r\n      \r\n  );\r\n}","import ApiService from './apiService'\r\nimport ErroValidacao from '../exception/erroValidacao'\r\n\r\nclass UsuarioService extends ApiService {\r\n    constructor(){\r\n        super('/api/usuarios')\r\n    }\r\n\r\n    autenticar(credenciais){\r\n        return this.post('/autenticar', credenciais)\r\n    }\r\n\r\n    obterSaldoPorUsuario(usuarioLogado){\r\n        return this.getWithAuthorization(`/saldo`, usuarioLogado)\r\n    }\r\n\r\n    salvar(usuario){\r\n        return this.post('/', usuario)\r\n    }\r\n\r\n    validar(usuario){\r\n        const erros = []\r\n\r\n        if(!usuario.nome){\r\n            erros.push('O campo nome é obrigatório.')\r\n        }\r\n        const emailPattern =  /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/; \r\n        if(!usuario.email){\r\n            erros.push('O campo email é obrigatório.')\r\n        }\r\n        else if(!usuario.email.match(emailPattern)){\r\n            erros.push('Informe um email válido.')\r\n        }\r\n\r\n        if(usuario.senha.length < 8){\r\n            erros.push('Sua senha deve conter no mínimo 8 caracteres.')\r\n        }\r\n\r\n        if(!usuario.senha || !usuario.senhaRepeticao){\r\n            erros.push('Digite a senha e a confirmação.')\r\n        }else if(usuario.senha !== usuario.senhaRepeticao){\r\n            erros.push('As senhas digitadas não são iguais.')\r\n        }\r\n        \r\n        if(erros && erros.length > 0){\r\n            throw new ErroValidacao(erros)\r\n        }\r\n    }\r\n}\r\n\r\nexport default UsuarioService;","import { Progressbar, f7 } from 'framework7-react'\r\n\r\nimport React from 'react';\r\nimport UsuarioForm from './usuarioForm';\r\nimport UsuarioService from '../../app/service/usuarioService'\r\nimport { withRouter } from 'react-router-dom'\r\nclass CadastroUsuario extends React.Component {\r\n\r\n    state = {\r\n        showLoadingDialog: false\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.service = new UsuarioService();\r\n    }\r\n    \r\n\r\n    goHome= () => {\r\n        this.props.history.push('/home')\r\n    } \r\n\r\n    aoCadastrarForm = (dados) => { \r\n        const { nome, email, senha, senhaRepeticao }  = dados\r\n        const usuario = { nome, email, senha, senhaRepeticao }\r\n\r\n        try {\r\n            this.service.validar(usuario)\r\n        }catch(erro){\r\n            const mensagens = erro.mensagens\r\n            mensagens.forEach(msg => f7.dialog.alert(msg, () => {}))\r\n            return false\r\n        }\r\n\r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service.salvar(usuario)\r\n        .then(response => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false})\r\n            f7.dialog.alert('Usuário cadastrado com sucesso!', () => {})\r\n            this.props.history.push('/home')\r\n        }).catch(error => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false})\r\n            f7.dialog.alert(error.response.data.message, () => {})\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <React.Fragment>\r\n                <Progressbar infinite color=\"blue\" style={{ display: this.state.showLoadingDialog ? 'block': 'none'}} />\r\n                <UsuarioForm cadastrar={this.aoCadastrarForm} voltar={this.goHome}/>\r\n            </React.Fragment>  \r\n        )\r\n    }\r\n\r\n}\r\n\r\n export default withRouter(CadastroUsuario);","import {\r\nCard,\r\nCardContent,\r\nList,\r\nListInput,\r\nLoginScreenTitle\r\n} from 'framework7-react'\r\nimport { React, useState } from 'react';\r\n\r\nimport moment from 'moment'\r\n\r\nexport default function ConsultaLancamentoForm({meses, tipos, buscar, cadastrar, duplicarLancamentos}) {\r\n  const anoAtual = moment().format('YYYY')\r\n  const mesAtual = moment().format('M')\r\n\r\n  const [ano, setAno] = useState(anoAtual)\r\n  const [mes, setMes] = useState(mesAtual)\r\n  const [tipo, setTipo] = useState(\"\")\r\n  const [descricao, setDescricao] = useState(\"\")\r\n\r\n  const search = () => {\r\n    buscar({ano, mes, tipo, descricao})\r\n  }\r\n\r\n  const optionsMeses = meses.map((option, index) =>\r\n    <option key={index} value={option.value}>{option.label}</option>\r\n  );\r\n\r\n  const optionsTipos = tipos.map((option, index) =>\r\n    <option key={index} value={option.value}>{option.label}</option>\r\n  );\r\n\r\n  return (\r\n\r\n    <Card>\r\n      <CardContent>\r\n        <LoginScreenTitle>Consulta - Lançamentos</LoginScreenTitle>\r\n        <List form>\r\n            <ListInput\r\n              label=\"Ano\"\r\n              type=\"text\"\r\n              placeholder=\"Ano\"\r\n              value={ano}\r\n              onInput={(e) => {\r\n                setAno(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"Mes\"\r\n              type=\"select\"  \r\n              placeholder=\"Escolha o mês...\"\r\n              value={mes}\r\n              onChange={\r\n                  event => {\r\n                      setMes(event.target.value);\r\n                  }\r\n              }>\r\n              {optionsMeses}\r\n            </ListInput>\r\n            <ListInput\r\n              label=\"Descrição\"\r\n              type=\"text\"\r\n              placeholder=\"Descrição\"\r\n              value={descricao}\r\n              onInput={(e) => {\r\n                setDescricao(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"Tipo\"\r\n              type=\"select\"\r\n              placeholder=\"Escolha um tipo...\"\r\n              value={tipo}\r\n              onChange={\r\n                      event => {\r\n                          setTipo(event.target.value);\r\n                      }\r\n                  }\r\n             >\r\n              {optionsTipos}\r\n            </ListInput>\r\n          <button onClick={(e) => {\r\n            e.preventDefault()\r\n            duplicarLancamentos(mesAtual)\r\n            }} \r\n            className=\"col button button-raised\">Duplicar Lançamentos</button>\r\n          <br/>\r\n          <button onClick={(e) => {\r\n            e.preventDefault()\r\n            search()\r\n            }} \r\n            className=\"col button button-raised\">Buscar</button>\r\n          <br/>\r\n          <button onClick={cadastrar} className=\"col button button-raised button-fill\">Cadastrar</button>\r\n        </List>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}","import {\r\nButton,\r\nCard,\r\nCardContent,\r\nCol,\r\nIcon,\r\nList,\r\nListItem,\r\nRow\r\n} from 'framework7-react'\r\n\r\nimport React from 'react';\r\nimport currencyFormatter from 'currency-formatter'\r\n\r\nconst LancamentosTable = (props) => {\r\n  \r\n  const getNameOfMonth = (monthNumber) => {\r\n    switch (monthNumber) {\r\n      case 1:\r\n        return 'JAN'\r\n      case 2:\r\n        return 'FEV'\r\n      case 3:\r\n        return 'MAR'\r\n      case 4: \r\n        return 'ABR'\r\n      case 5: \r\n       return 'MAI'\r\n      case 6:\r\n        return 'JUN'\r\n      case 7:\r\n        return 'JUL'\r\n      case 8:\r\n        return 'AGO'\r\n      case 9:\r\n        return 'SET'\r\n      case 10:\r\n        return 'OUT'\r\n      case 11: \r\n        return 'NOV'\r\n      case 12:\r\n        return 'DEZ'\r\n      default:\r\n        return 'NULL'\r\n    }\r\n  }\r\n\r\n  let totalReceitas = 0\r\n  let totalDespesas = 0\r\n  let rows = props.lancamentos.map( lancamento => {\r\n    if(lancamento.tipo === 'RECEITA'){\r\n      totalReceitas+=lancamento.valor\r\n    } else {\r\n      totalDespesas+=lancamento.valor\r\n    }\r\n    return (\r\n     \r\n      <ListItem\r\n        key={lancamento.id}\r\n        title={lancamento.descricao}\r\n        after={getNameOfMonth(lancamento.mes)}\r\n        subtitle={currencyFormatter.format(lancamento.valor, {locale: 'pt-BR'})}\r\n        text={lancamento.status === 'EFETIVADO' ? 'PAGO' : lancamento.status}\r\n      >\r\n        <Row>\r\n          <Col>\r\n            <Button fill color=\"green\"\r\n            disabled={lancamento.status !== 'PENDENTE'} \r\n            onClick={e => props.alterarStatus(lancamento, 'EFETIVADO')}>\r\n              <Icon ios=\"f7:money_dollar_circle\" aurora=\"f7:money_dollar_circle\" md=\"f7:money_dollar_circle\"></Icon>\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button fill color=\"yellow\"\r\n            disabled={lancamento.status !== 'PENDENTE'}\r\n            onClick={e => props.alterarStatus(lancamento, 'CANCELADO')}>\r\n              <Icon ios=\"f7:nosign\" aurora=\"f7:nosign\" md=\"f7:nosign\"></Icon>\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button fill color=\"blue\"\r\n            onClick={e => props.editarAction(lancamento.id)}>\r\n              <Icon ios=\"f7:pencil\" aurora=\"f7:pencil\" md=\"f7:pencil\"></Icon>\r\n            </Button>\r\n          </Col>\r\n          <Col>\r\n            <Button fill color=\"red\" onClick={e => props.deletarAction(lancamento)}>\r\n              <Icon ios=\"f7:trash\" aurora=\"f7:trash\" md=\"f7:trash\"></Icon>\r\n            </Button>\r\n          </Col>\r\n        </Row>\r\n      </ListItem>\r\n    )\r\n  })\r\n\r\n  \r\n  rows.push(\r\n    \r\n      <ListItem\r\n        key=\"d685c410-0afb-4d86-a3b5-5802ea5ca2c2\"\r\n        title=\"Saldo\"\r\n        after=\"Mês Atual\"\r\n        subtitle={currencyFormatter.format(totalReceitas - totalDespesas, {locale: 'pt-BR'})}\r\n        text=\"Total de receitas debitando total de despesas do mês.\"\r\n      >\r\n    </ListItem>\r\n    \r\n  )\r\n  \r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <List mediaList>\r\n          {rows}\r\n        </List>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default LancamentosTable;","import {\r\n Fab,\r\n FabButton,\r\n FabButtons,\r\n Icon,\r\n Navbar,\r\n Page,\r\n Progressbar,\r\n f7\r\n} from 'framework7-react'\r\n\r\nimport { AuthContext } from '../../provedorAutenticacao'\r\nimport ConsultaLancamentosForm from './consultaLancamentosForm'\r\nimport LancamentoService from '../../app/service/lancamentoService'\r\nimport LancamentosTable from './consultaLancamentosTable'\r\nimport React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass ConsultaLancamentos extends React.Component{\r\n\r\n    state = {\r\n        showLoadingDialog: false,\r\n        showTableDialog: false,\r\n        lancamentoDeletar: {},\r\n        lancamentos: [],\r\n    }\r\n    \r\n    constructor(){\r\n        super();\r\n        this.service = new LancamentoService();\r\n    }\r\n\r\n    aoBuscarForm = (dados) => {\r\n       \r\n        if(!dados.ano){\r\n            f7.dialog.alert('O preenchimento do campo Ano é obrigatório.', () => {})\r\n            return false\r\n        }\r\n\r\n        if(!dados.mes){\r\n            f7.dialog.alert('O preenchimento do campo Mês é obrigatório.', () => {})\r\n            return false\r\n        }\r\n        \r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n        \r\n        const lancamentoFiltro = {\r\n            ano: dados.ano,\r\n            mes: dados.mes,\r\n            tipo: dados.tipo,\r\n            descricao: dados.descricao\r\n        }\r\n\r\n        this.setState({showLoadingDialog: true})\r\n\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service\r\n        .consultar(lancamentoFiltro, usuarioLogado)\r\n        .then( response => {\r\n            const lista = response.data\r\n            if(lista.length < 1){\r\n                preloader.close()\r\n                this.setState({showLoadingDialog: false, showTableDialog: false})\r\n                f7.dialog.alert('Nenhum resultado encontrado!', () => {})\r\n            }\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false, showTableDialog: true, lancamentos: lista })\r\n        }).catch( error => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false, showTableDialog: false})\r\n            f7.dialog.alert('Erro ao consultar lançamentos. Tente novamente ou mais tarde.', () => {})\r\n        })\r\n    }\r\n\r\n    aoCadastrarForm = () => {\r\n        this.props.history.push('/cadastro-lancamentos')\r\n    }\r\n\r\n    editar = (id) => {\r\n        this.props.history.push(`/cadastro-lancamentos/${id}`)\r\n    }\r\n\r\n    aoDuplicarLancamentos = (mes) => {\r\n\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n\r\n        console.log(usuarioLogado.accessToken)\r\n\r\n        this.setState({showLoadingDialog: true})\r\n\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service\r\n        .duplicarLancamentos(mes, usuarioLogado)\r\n        .then( response => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false, showTableDialog: false})\r\n            f7.dialog.alert('Lançamentos do mês: ' + mes + 'copiados com sucesso para o próximo mês.', () => {})\r\n        }).catch( error => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false, showTableDialog: false})\r\n            f7.dialog.alert('Erro ao duplicar lançamentos. Tente novamente ou mais tarde.', () => {})\r\n        })\r\n\r\n    }\r\n\r\n    aoAlterarStatus = (lancamento, status) => {\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service\r\n        .alterarStatus(lancamento.id, status, usuarioLogado)\r\n        .then(response => {\r\n            const lancamentos = this.state.lancamentos\r\n            const index = lancamentos.indexOf(lancamento)\r\n\r\n            if(index !== -1){\r\n                lancamento['status'] = status\r\n                lancamentos[index] = lancamento\r\n                this.setState( { lancamentos })\r\n            }\r\n            this.setState({showLoadingDialog: false})\r\n            preloader.close()\r\n            f7.dialog.alert('Status atualizado com sucesso!', () => {})\r\n        }).catch(error => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false})\r\n            f7.dialog.alert('Erro ao tentar alterar status do lançamento.', () => {})\r\n        })\r\n    }\r\n\r\n     abrirConfirmacao = (lancamento) => {\r\n        const msg = `Deseja realmente excluir o lançamento ${lancamento.descricao}?`\r\n        f7.dialog.create({\r\n            title: 'Exclusão de Lançamento',\r\n            text: msg,\r\n            buttons: [\r\n              {\r\n                text: 'Sim',\r\n                onClick: () => this.deletar(lancamento)\r\n              },\r\n              {\r\n                text: 'Não',\r\n              },\r\n            ],\r\n            verticalButtons: false,\r\n          }).open()\r\n    }\r\n\r\n    deletar = (lancamento) => {\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n        \r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service.deletar(lancamento.id, usuarioLogado)\r\n        .then(response => {\r\n            const lancamentos = this.state.lancamentos\r\n            const index = lancamentos.indexOf(lancamento)\r\n            lancamentos.splice(index, 1);\r\n            f7.dialog.alert('Lançamento excluído com sucesso!', () => {})\r\n            this.setState({lancamentos: lancamentos, showLoadingDialog: false})\r\n            preloader.close()\r\n        }).catch( error => {\r\n            preloader.close()\r\n            this.setState({showLoadingDialog: false})\r\n            f7.dialog.alert('Ocorreu um erro ao tentar excluir o lançamento.', () => {})\r\n        })\r\n    }\r\n\r\n    aoSair = () => {\r\n        this.context.encerrarSessao()\r\n        this.props.history.push('/login')\r\n    }\r\n\r\n    goHome = () => {\r\n        this.props.history.push('/home')\r\n    }\r\n\r\n    fecharTabela = () => {\r\n        this.setState({showTableDialog: false})\r\n    }\r\n\r\n    render(){\r\n\r\n        const meses = this.service.obterListaMeses()\r\n        const tipos = this.service.obterListaTipos()    \r\n\r\n        return (\r\n            <Page>\r\n                <Progressbar infinite color=\"blue\" style={{ display: this.state.showLoadingDialog ? 'block': 'none'}} />\r\n                <Navbar title=\"FINANÇAS\"></Navbar>\r\n\r\n                <ConsultaLancamentosForm meses={meses} tipos={tipos} \r\n                buscar={this.aoBuscarForm} \r\n                cadastrar={this.aoCadastrarForm}\r\n                duplicarLancamentos={this.aoDuplicarLancamentos}/>               \r\n\r\n                <LancamentosTable \r\n                    lancamentos={this.state.lancamentos} \r\n                    alterarStatus={this.aoAlterarStatus}\r\n                    deletarAction={this.abrirConfirmacao}\r\n                    editarAction={this.editar}\r\n                />    \r\n\r\n                <Fab position=\"right-bottom\" slot=\"fixed\" color=\"blue\">\r\n                    <Icon ios=\"f7:plus\" aurora=\"f7:plus\" md=\"f7:plus\"></Icon>\r\n                    <Icon ios=\"f7:xmark\" aurora=\"f7:xmark\" md=\"f7:xmark\"></Icon>\r\n                    <FabButtons position=\"top\">\r\n                        <FabButton onClick={this.aoSair} label=\"Sair\" color=\"red\"> \r\n                            <Icon ios=\"f7:nosign\" aurora=\"f7:nosign\" md=\"f7:nosign\"></Icon>\r\n                        </FabButton>\r\n                        <FabButton onClick={this.goHome} label=\"Home\" color=\"blue\"> \r\n                            <Icon ios=\"f7:house\" aurora=\"f7:house\" md=\"f7:house\"></Icon>\r\n                        </FabButton>\r\n                    </FabButtons>\r\n                </Fab>\r\n                \r\n            </Page>\r\n        )\r\n    }\r\n}\r\n\r\nConsultaLancamentos.contextType = AuthContext\r\n\r\nexport default withRouter(ConsultaLancamentos);","import {\r\n  Card,\r\n  Fab,\r\n  FabButton,\r\n  FabButtons,\r\n  Icon,\r\n  Navbar,\r\n  Page\r\n} from 'framework7-react'\r\n\r\nimport {React, useState} from 'react'\r\nimport currencyFormatter from 'currency-formatter'\r\n\r\nexport default function HomeCard({data, consultar, deslogar}) {\r\n  const [showBalance, setShowBalance] = useState(false)\r\n  \r\n  const saldoAtual = data.saldo\r\n  const nomeUsuario = data.usuario\r\n  const saldoAtualFormatado = currencyFormatter.format(saldoAtual, {locale: 'pt-BR'})\r\n  const saldoOculto = 'R$ ******'\r\n\r\n  const changeShowBalance = () => {\r\n    if(showBalance) setShowBalance(false)\r\n    if(!showBalance) setShowBalance(true)\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n        <Navbar title=\"FINANÇAS\">\r\n        </Navbar>\r\n        <Card\r\n            title=\"Saldo\"\r\n            content={showBalance ? saldoAtualFormatado: saldoOculto}\r\n            footer={nomeUsuario}\r\n            ></Card>\r\n        <Fab position=\"right-bottom\" slot=\"fixed\" color=\"blue\">\r\n            <Icon ios=\"f7:plus\" aurora=\"f7:plus\" md=\"f7:plus\"></Icon>\r\n            <Icon ios=\"f7:xmark\" aurora=\"f7:xmark\" md=\"f7:xmark\"></Icon>\r\n            <FabButtons position=\"top\">\r\n                <FabButton onClick={deslogar} label=\"Sair\" color=\"red\"> \r\n                    <Icon ios=\"f7:nosign\" aurora=\"f7:nosign\" md=\"f7:nosign\"></Icon>\r\n                </FabButton>\r\n\r\n                <FabButton onClick={consultar} label=\"Lançamentos\">\r\n                    <Icon ios=\"f7:money_dollar\" aurora=\"f7:money_dollar\" md=\"f7:money_dollar\"></Icon>\r\n                </FabButton>\r\n               \r\n                <FabButton onClick={changeShowBalance} label=\"Ver / Ocultar Saldo\" color=\"red\"> \r\n                    <Icon ios=\"f7:eye\" aurora=\"f7:eye\" md=\"f7:eye\"></Icon>\r\n                </FabButton>\r\n\r\n            </FabButtons>\r\n        </Fab>\r\n    </Page>\r\n  );\r\n}","import { AuthContext } from '../../provedorAutenticacao'\r\nimport HomeCard from './homeCard'\r\nimport React from 'react'\r\nimport UsuarioService from '../../app/service/usuarioService'\r\n\r\nclass Home extends React.Component {\r\n\r\n    state = {\r\n        saldo: 0,\r\n        usuario: ''\r\n    }\r\n\r\n    constructor(){\r\n        super()\r\n        this.usuarioService = new UsuarioService();\r\n    }\r\n\r\n    aoConsultarLancamentos = () => {\r\n        this.props.history.push('/consulta-lancamentos')\r\n    }\r\n\r\n    aoSair = () => {\r\n        this.context.encerrarSessao()\r\n        this.props.history.push('/login')\r\n    }\r\n    \r\n    componentDidMount(){\r\n        const usuarioLogado = this.context.usuarioAutenticado\r\n        \r\n        this.usuarioService.obterSaldoPorUsuario(usuarioLogado)\r\n        .then( response => {\r\n            this.setState({saldo: response.data, usuario: usuarioLogado.nome})\r\n        }).catch( error => {\r\n            this.setState({saldo: 0, usuario: usuarioLogado.nome})\r\n            console.error(error.response);\r\n        });\r\n    }\r\n\r\n    render(){\r\n        return(   \r\n            <HomeCard data={this.state} consultar={this.aoConsultarLancamentos} deslogar={this.aoSair}/>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nHome.contextType = AuthContext\r\n\r\nexport default Home","import {\r\n  BlockFooter,\r\n  List,\r\n  ListInput,\r\n  LoginScreenTitle,\r\n  Page\r\n} from 'framework7-react';\r\nimport { React, useState } from 'react';\r\n\r\nexport default function LoginForm({entrar, usuarios}) {\r\n\r\n  const [email, setEmail] = useState(\"\")\r\n  const [senha, setSenha] = useState(\"\")\r\n  const signIn = () => {\r\n      entrar({email, senha})\r\n  }\r\n  \r\n  return (\r\n\r\n       <Page noToolbar noNavbar noSwipeback loginScreen>\r\n        <LoginScreenTitle>Login</LoginScreenTitle>\r\n        <List form>\r\n            <ListInput\r\n              label=\"E-mail\"\r\n              type=\"text\"\r\n              placeholder=\"Seu e-mail\"\r\n              value={email}\r\n              onInput={(e) => {\r\n                setEmail(e.target.value);\r\n              }}\r\n            />\r\n            <ListInput\r\n              label=\"Senha\"\r\n              type=\"password\"\r\n              placeholder=\"Sua senha\"\r\n              value={senha}\r\n              onInput={(e) => {\r\n                setSenha(e.target.value);\r\n              }}\r\n            />\r\n          <button onClick={(e) => {\r\n            e.preventDefault()\r\n            signIn()\r\n            }} \r\n            className=\"col button button-raised\">Entrar</button>\r\n          <br/>\r\n          {/* <button onClick={usuarios} className=\"col button button-raised button-fill\">Cadastrar</button> */}\r\n        </List>\r\n        <List>\r\n          <BlockFooter>\r\n           Todos os direitos reservados. 2024\r\n          </BlockFooter>\r\n        </List>\r\n      </Page>\r\n\r\n  );\r\n}","import { Page, Progressbar, f7 } from 'framework7-react'\r\n\r\nimport { AuthContext } from '../../provedorAutenticacao'\r\nimport LoginForm from './loginForm';\r\nimport React from 'react';\r\nimport UsuarioService from '../../app/service/usuarioService'\r\nimport httpStatus from 'http-status'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass Login extends React.Component {\r\n\r\n    state = {\r\n        showLoadingDialog: false\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.service = new UsuarioService();\r\n    }\r\n\r\n    aoEntrarForm = (dados) => { \r\n       \r\n        if(!dados.email){\r\n            f7.dialog.alert('Favor preencher o campo e-mail...', () => {})\r\n            return false\r\n        }\r\n\r\n        if(!dados.senha){\r\n            f7.dialog.alert('Favor preencher o campo senha...', () => {})\r\n            return false\r\n        }\r\n        \r\n        this.setState({showLoadingDialog: true})\r\n        const preloader = f7.dialog.preloader('Carregando...', 'blue')\r\n\r\n        this.service.autenticar({\r\n            email: dados.email.trim(),\r\n            senha: dados.senha\r\n        }).then( response => {\r\n            preloader.close()\r\n            this.context.iniciarSessao(response.data) \r\n            this.props.history.push('/home')\r\n        }).catch( erro => {\r\n            if(erro.response.status === httpStatus.FORBIDDEN) {\r\n                preloader.close()\r\n                this.setState({showLoadingDialog: false})\r\n                f7.dialog.alert('Nome de usuário / senha inválido(s), tente novamente ou mais tarde...', () => {})\r\n            } else {\r\n                preloader.close()\r\n                this.setState({showLoadingDialog: false})\r\n                f7.dialog.alert('Ocorreu um erro inesperado... Entre em contato com o Administrador.', () => {})\r\n            }\r\n        })\r\n    }\r\n\r\n    toUsuarios = () => {\r\n        this.props.history.push('/cadastro-usuarios')\r\n    }\r\n\r\n    render(){\r\n        return(\r\n           <Page>\r\n                <Progressbar infinite color=\"blue\" style={{ display: this.state.showLoadingDialog ? 'block': 'none'}} />\r\n                <LoginForm entrar={this.aoEntrarForm} usuarios={this.toUsuarios}/>\r\n            </Page>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nLogin.contextType = AuthContext\r\n\r\n export default withRouter(Login);","import { HashRouter, Redirect, Route, Switch } from 'react-router-dom'\r\n\r\nimport { AuthConsumer } from './provedorAutenticacao'\r\nimport CadastroLancamentos from './views/lancamentos/cadastroLancamentos'\r\nimport CadastroUsuario from './views/usuarios/cadastroUsuario'\r\nimport ConsultaLancamentos from './views/lancamentos/consultaLancamentos'\r\nimport Home from './views/home/home'\r\nimport Login from './views/login/login'\r\nimport React from 'react'\r\n\r\nfunction RotaAutenticada( { component: Component, isUsuarioAutenticado, ...props } ){\r\n    return <Route {...props} render = {(componentProps) => {\r\n       if(isUsuarioAutenticado){\r\n           return (\r\n                <Component {...componentProps} />\r\n           )\r\n       } else {\r\n           return (\r\n               <Redirect to={ { pathname: '/login', state: { from: componentProps.location} } } />\r\n           )\r\n       }\r\n    }} />\r\n\r\n}\r\n\r\nfunction RotasApp(props){\r\n    return (\r\n        <HashRouter>\r\n            <Switch>\r\n                <Route path='/' exact={true} component={Login} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/cadastro-usuarios\" component={CadastroUsuario} />\r\n                <RotaAutenticada isUsuarioAutenticado={props.isUsuarioAutenticado} path=\"/home\" component={Home} />\r\n                <RotaAutenticada isUsuarioAutenticado={props.isUsuarioAutenticado} path=\"/consulta-lancamentos\" component={ConsultaLancamentos} />\r\n                <RotaAutenticada isUsuarioAutenticado={props.isUsuarioAutenticado} path=\"/cadastro-lancamentos/:id?\" component={CadastroLancamentos} />\r\n            </Switch>\r\n        </HashRouter>\r\n    )\r\n}\r\n\r\nconst Rotas = () => (\r\n    <AuthConsumer>\r\n        {(context) => (\r\n            <RotasApp isUsuarioAutenticado={context.isAutenticado} />\r\n        )}\r\n    </AuthConsumer>\r\n);\r\n\r\nexport default Rotas;","import { App } from 'framework7-react';\r\nimport ProvedorAutenticacao from './provedorAutenticacao'\r\nimport React from 'react';\r\nimport Rotas from './rotas'\r\n\r\nconst f7params = {\r\n  id: \"com.devlhse.confin\", // App bundle ID\r\n  name: \"CONFIN\", // App name\r\n  theme: \"auto\", // Automatic theme detection\r\n  // App routes\r\n  routes: []\r\n};\r\n\r\nfunction Main() {\r\n  \r\n  return (\r\n    <App {...f7params}>\r\n      <ProvedorAutenticacao>\r\n        <Rotas />\r\n      </ProvedorAutenticacao>\r\n    </App>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import './index.css';\r\nimport 'framework7/framework7-bundle.min.css'\r\nimport 'framework7-icons/css/framework7-icons.css'\r\n\r\nimport Framework7 from \"framework7/lite-bundle\";\r\nimport Framework7React from \"framework7-react\";\r\nimport Main from './Main';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nFramework7.use(Framework7React);\r\n\r\nconst rootElement = document.getElementById('root');\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Main />\r\n  </React.StrictMode>,\r\n  rootElement\r\n);\r\n\r\n"],"sourceRoot":""}