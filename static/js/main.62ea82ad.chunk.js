(this["webpackJsonpminhas-financas-pwa"]=this["webpackJsonpminhas-financas-pwa"]||[]).push([[0],{186:function(a,t,e){},220:function(a,t,e){"use strict";e.r(t);var o=e(6),n=(e(186),e(187),e(188),e(115)),r=e(26),c=e(37),i=e(110),s=e(16),l=e(17),u=e(23),d=e(22),h=function(){function a(){Object(s.a)(this,a)}return Object(l.a)(a,null,[{key:"adicionarItem",value:function(a,t){localStorage.setItem(a,JSON.stringify(t))}},{key:"obterItem",value:function(a){var t=localStorage.getItem(a);return JSON.parse(t)}},{key:"removerItem",value:function(a){localStorage.removeItem(a)}}]),a}(),b="_usuario_logado",j=function(){function a(){Object(s.a)(this,a)}return Object(l.a)(a,null,[{key:"isUsuarioAutenticado",value:function(){var a=h.obterItem(b);return a&&a.id}},{key:"removerUsuarioAutenticado",value:function(){h.removerItem(b)}},{key:"logar",value:function(a){h.adicionarItem(b,a)}},{key:"obterUsuarioAutenticado",value:function(){return h.obterItem(b)}}]),a}(),m=e(2),p=e.n(m),f=p.a.createContext(),v=f.Consumer,O=f.Provider,g=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;Object(s.a)(this,e);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=t.call.apply(t,[this].concat(n))).state={usuarioAutenticado:null,isAutenticado:!1},a.iniciarSessao=function(t){j.logar(t),a.setState({isAutenticado:!0,usuarioAutenticado:t})},a.encerrarSessao=function(){j.removerUsuarioAutenticado(),a.setState({isAutenticado:!1,usuarioAutenticado:null})},a}return Object(l.a)(e,[{key:"render",value:function(){var a={usuarioAutenticado:this.state.usuarioAutenticado,isAutenticado:this.state.isAutenticado,iniciarSessao:this.iniciarSessao,encerrarSessao:this.encerrarSessao};return Object(o.jsx)(O,{value:a,children:this.props.children})}}]),e}(p.a.Component),x=e(116),S=e(18),A=e(38),y=e(15),k=e(85),D=e(49),w=e(87),L=e(88),C=e(89),z=function(a){var t=Object(m.useState)(""),e=Object(y.a)(t,2),n=e[0],r=e[1],c=Object(m.useState)(""),i=Object(y.a)(c,2),s=i[0],l=i[1],u=Object(m.useState)(""),d=Object(y.a)(u,2),h=d[0],b=d[1],j=Object(m.useState)(""),p=Object(y.a)(j,2),f=p[0],v=p[1],O=Object(m.useState)(""),g=Object(y.a)(O,2),x=g[0],S=g[1],A=Object(m.useState)(""),z=Object(y.a)(A,2),I=z[0],E=z[1],T=Object(m.useState)(""),N=Object(y.a)(T,2),U=N[0],F=N[1],B=Object(m.useState)(""),_=Object(y.a)(B,2),M=_[0],R=_[1];Object(m.useEffect)((function(){r(a.lancamentoAtualizar.id),l(a.lancamentoAtualizar.descricao),b(a.lancamentoAtualizar.valor),v(a.lancamentoAtualizar.mes),S(a.lancamentoAtualizar.ano),E(a.lancamentoAtualizar.tipo),F(a.lancamentoAtualizar.status),R(a.lancamentoAtualizar.atualizando)}),[a.lancamentoAtualizar.id,a.lancamentoAtualizar.descricao,a.lancamentoAtualizar.valor,a.lancamentoAtualizar.mes,a.lancamentoAtualizar.ano,a.lancamentoAtualizar.tipo,a.lancamentoAtualizar.status,a.lancamentoAtualizar.atualizando]);var W=a.meses.map((function(a,t){return Object(o.jsx)("option",{value:a.value,children:a.label},t)})),J=a.tipos.map((function(a,t){return Object(o.jsx)("option",{value:a.value,children:a.label},t)}));return Object(o.jsx)(k.a,{children:Object(o.jsxs)(D.a,{children:[Object(o.jsx)(w.a,{children:M?"Atualiza\xe7\xe3o de Lan\xe7amento":"Cadastro de Lan\xe7amentos"}),Object(o.jsxs)(L.a,{form:!0,children:[Object(o.jsx)(C.a,{label:"Descri\xe7\xe3o",type:"text",placeholder:"Descri\xe7\xe3o",value:s,onInput:function(a){l(a.target.value)}}),Object(o.jsx)(C.a,{label:"Valor",type:"text",placeholder:"Valor",value:h,onInput:function(a){b(a.target.value.replace(",","."))}}),Object(o.jsx)(C.a,{label:"Mes",type:"select",placeholder:"Escolha o m\xeas...",value:f,onChange:function(a){v(a.target.value)},children:W}),Object(o.jsx)(C.a,{label:"Ano",type:"text",placeholder:"Ano",value:x,onInput:function(a){S(a.target.value)}}),Object(o.jsx)(C.a,{label:"Tipo",type:"select",placeholder:"Escolha um tipo...",value:I,onChange:function(a){E(a.target.value)},children:J}),Object(o.jsx)(C.a,{label:"Status",type:"text",placeholder:"Status",value:U,disabled:!0}),Object(o.jsx)("button",{style:{display:M?"none":"block"},onClick:function(t){t.preventDefault(),a.cadastrar({descricao:s,valor:h,mes:f,ano:x,tipo:I})},className:"col button button-raised",children:"Cadastrar"}),Object(o.jsx)("button",{style:{display:M?"block":"none"},onClick:function(t){t.preventDefault(),a.atualizar({descricao:s,valor:h,mes:f,ano:x,tipo:I,status:U,id:n})},className:"col button button-raised",children:"Atualizar"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:a.cancelar,className:"col button button-raised button-fill",children:"Cancelar"})]})]})})},I=e(111),E=e.n(I).a.create({baseURL:"https://sistema.siso.com.br"}),T=function(){function a(t){Object(s.a)(this,a),this.apiurl=t}return Object(l.a)(a,[{key:"post",value:function(a,t){var e="".concat(this.apiurl).concat(a);return E.post(e,t)}},{key:"put",value:function(a,t){var e="".concat(this.apiurl).concat(a);return E.put(e,t)}},{key:"delete",value:function(a){var t="".concat(this.apiurl).concat(a);return E.delete(t)}},{key:"get",value:function(a){var t="".concat(this.apiurl).concat(a);return E.get(t)}},{key:"getWithAuthorization",value:function(a,t){var e="".concat(this.apiurl).concat(a);return E.get(e,{headers:{Authorization:"Bearer ".concat(t.accessToken),usuarioId:t.id}})}},{key:"postWithAuthorization",value:function(a,t,e){var o="".concat(this.apiurl).concat(a);return E.post(o,t,{headers:{Authorization:"Bearer ".concat(e.accessToken),usuarioId:e.id}})}},{key:"postWithAuthorizationWithoutBody",value:function(a,t){var e="".concat(this.apiurl).concat(a);return E.post(e,{},{headers:{Authorization:"Bearer ".concat(t.accessToken),usuarioId:t.id}})}},{key:"putWithAuthorization",value:function(a,t,e){var o="".concat(this.apiurl).concat(a);return E.put(o,t,{headers:{Authorization:"Bearer ".concat(e.accessToken),usuarioId:e.id}})}},{key:"deleteWithAuthorization",value:function(a,t){var e="".concat(this.apiurl).concat(a);return E.delete(e,{headers:{Authorization:"Bearer ".concat(t.accessToken),usuarioId:t.id}})}}]),a}();var N=function(a){this.mensagens=a},U=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){return Object(s.a)(this,e),t.call(this,"/api/lancamentos")}return Object(l.a)(e,[{key:"obterListaMeses",value:function(){return[{label:"Selecione...",value:""},{label:"Janeiro",value:1},{label:"Fevereiro",value:2},{label:"Mar\xe7o",value:3},{label:"Abril",value:4},{label:"Maio",value:5},{label:"Junho",value:6},{label:"Julho",value:7},{label:"Agosto",value:8},{label:"Setembro",value:9},{label:"Outubro",value:10},{label:"Novembro",value:11},{label:"Dezembro",value:12}]}},{key:"obterListaTipos",value:function(){return[{label:"Selecione...",value:""},{label:"Despesa",value:"DESPESA"},{label:"Receita",value:"RECEITA"}]}},{key:"obterPorId",value:function(a,t){return this.getWithAuthorization("/".concat(a),t)}},{key:"salvar",value:function(a,t){return this.postWithAuthorization("",a,t)}},{key:"atualizar",value:function(a,t){return this.putWithAuthorization("/".concat(a.id),a,t)}},{key:"alterarStatus",value:function(a,t,e){return this.putWithAuthorization("/".concat(a,"/status"),{status:t},e)}},{key:"consultar",value:function(a,t){var e="?ano=".concat(a.ano);return a.mes&&(e="".concat(e,"&mes=").concat(a.mes)),a.tipo&&(e="".concat(e,"&tipo=").concat(a.tipo)),a.status&&(e="".concat(e,"&status=").concat(a.status)),a.descricao&&(e="".concat(e,"&descricao=").concat(a.descricao)),this.getWithAuthorization(e,t)}},{key:"deletar",value:function(a,t){return this.deleteWithAuthorization("/".concat(a),t)}},{key:"duplicarLancamentos",value:function(a,t){return this.postWithAuthorizationWithoutBody("/".concat(a),t)}},{key:"validar",value:function(a){var t=[];if(a.ano||t.push("Informe o Ano."),a.mes||t.push("Informe o M\xeas."),a.descricao||t.push("Informe a Descri\xe7\xe3o."),a.valor||t.push("Informe o Valor."),a.tipo||t.push("Informe o Tipo."),t&&t.length>0)throw new N(t)}}]),e}(T),F=e(3),B=e(98),_=e(99),M=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;return Object(s.a)(this,e),(a=t.call(this)).state={showLoadingDialog:!1,lancamentoAtualizar:{id:null,descricao:"",valor:"",mes:"",ano:"",tipo:"",status:"",atualizando:!1}},a.submit=function(t){var e=a.context.usuarioAutenticado,o={descricao:t.descricao,valor:t.valor,mes:t.mes,ano:t.ano,tipo:t.tipo};try{a.lancamentoService.validar(o)}catch(r){return r.mensagens.forEach((function(a){return F.a.dialog.alert(a,(function(){}))})),!1}a.setState({showLoadingDialog:!0});var n=F.a.dialog.preloader("Carregando...","blue");a.lancamentoService.salvar(o,e).then((function(t){n.close(),F.a.dialog.alert("Lan\xe7amento cadastrado com sucesso!",(function(){})),a.setState({showLoadingDialog:!1}),a.props.history.push("/consulta-lancamentos")})).catch((function(t){n.close(),F.a.dialog.alert(t.response.data,(function(){})),a.setState({showLoadingDialog:!1})}))},a.atualizar=function(t){var e=a.context.usuarioAutenticado,o={descricao:t.descricao,valor:t.valor,mes:t.mes,ano:t.ano,tipo:t.tipo,status:t.status,id:t.id};a.setState({showLoadingDialog:!0});var n=F.a.dialog.preloader("Carregando...","blue");a.lancamentoService.atualizar(o,e).then((function(t){n.close(),F.a.dialog.alert("Lan\xe7amento atualizado com sucesso!",(function(){})),a.setState({showLoadingDialog:!1}),a.props.history.push("/consulta-lancamentos")})).catch((function(t){n.close(),F.a.dialog.alert(t.response.data,(function(){})),a.setState({showLoadingDialog:!1})}))},a.cancelar=function(){a.props.history.push("/consulta-lancamentos")},a.aoSair=function(){a.context.encerrarSessao(),a.props.history.push("/login")},a.lancamentoService=new U,a}return Object(l.a)(e,[{key:"componentDidMount",value:function(){var a=this,t=this.props.match.params,e=this.context.usuarioAutenticado;if(t.id&&e){this.setState({showLoadingDialog:!0});var o=F.a.dialog.preloader("Carregando...","blue");this.lancamentoService.obterPorId(t.id,e).then((function(t){o.close(),a.setState({lancamentoAtualizar:{id:t.data.id,descricao:t.data.descricao,valor:t.data.valor,mes:t.data.mes,ano:t.data.ano,tipo:t.data.tipo,status:t.data.status,atualizando:!0},showLoadingDialog:!1})})).catch((function(t){o.close(),F.a.dialog.alert(t.response.data,(function(){})),a.setState({showLoadingDialog:!1})}))}}},{key:"render",value:function(){var a=this.lancamentoService.obterListaTipos(),t=this.lancamentoService.obterListaMeses();return Object(o.jsxs)(B.a,{children:[Object(o.jsx)(_.a,{infinite:!0,color:"blue",style:{display:this.state.showLoadingDialog?"block":"none"}}),Object(o.jsx)(z,{meses:t,tipos:a,cancelar:this.cancelar,cadastrar:this.submit,atualizar:this.atualizar,lancamentoAtualizar:this.state.lancamentoAtualizar})]})}}]),e}(p.a.Component);M.contextType=f;var R=Object(S.g)(M),W=e(101),J=e(53),P=e(102),V=e(103),H=e(104);function Y(a){var t=a.cadastrar,e=a.voltar,n=Object(m.useState)(""),r=Object(y.a)(n,2),c=r[0],i=r[1],s=Object(m.useState)(""),l=Object(y.a)(s,2),u=l[0],d=l[1],h=Object(m.useState)(""),b=Object(y.a)(h,2),j=b[0],p=b[1],f=Object(m.useState)(""),v=Object(y.a)(f,2),O=v[0],g=v[1];return Object(o.jsxs)(B.a,{noToolbar:!0,noNavbar:!0,noSwipeback:!0,loginScreen:!0,children:[Object(o.jsx)(w.a,{children:"Cadastro de Usu\xe1rios"}),Object(o.jsxs)(L.a,{form:!0,children:[Object(o.jsx)(C.a,{label:"Nome",type:"text",placeholder:"Seu nome",value:c,onInput:function(a){i(a.target.value)}}),Object(o.jsx)(C.a,{label:"E-mail",type:"text",placeholder:"Seu e-mail",value:u,onInput:function(a){d(a.target.value)}}),Object(o.jsx)(C.a,{label:"Senha",type:"password",placeholder:"Sua senha",value:j,onInput:function(a){p(a.target.value)}}),Object(o.jsx)(C.a,{label:"Confirma\xe7\xe3o de Senha",type:"password",placeholder:"Confirme a senha digitada...",value:O,onInput:function(a){g(a.target.value)}})]}),Object(o.jsxs)(W.a,{position:"right-bottom",slot:"fixed",color:"pink",children:[Object(o.jsx)(J.a,{ios:"f7:plus",aurora:"f7:plus",md:"f7:plus"}),Object(o.jsx)(J.a,{ios:"f7:xmark",aurora:"f7:xmark",md:"f7:xmark"}),Object(o.jsxs)(P.a,{position:"left",children:[Object(o.jsx)(V.a,{onClick:function(a){a.preventDefault(),t({nome:c,email:u,senha:j,senhaRepeticao:O})},children:Object(o.jsx)(J.a,{ios:"f7:checkmark",aurora:"f7:checkmark",md:"f7:checkmark"})}),Object(o.jsx)(V.a,{onClick:e,children:Object(o.jsx)(J.a,{ios:"f7:arrow_uturn_left",aurora:"f7:arrow_uturn_left",md:"f7:arrow_uturn_left"})})]})]}),Object(o.jsx)(L.a,{children:Object(o.jsx)(H.a,{children:"Todos os direitos reservados. 2024"})})]})}var Z=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){return Object(s.a)(this,e),t.call(this,"/api/usuarios")}return Object(l.a)(e,[{key:"autenticar",value:function(a){return this.post("/autenticar",a)}},{key:"obterSaldoPorUsuario",value:function(a){return this.getWithAuthorization("/saldo",a)}},{key:"salvar",value:function(a){return this.post("/",a)}},{key:"validar",value:function(a){var t=[];a.nome||t.push("O campo nome \xe9 obrigat\xf3rio.");if(a.email?a.email.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||t.push("Informe um email v\xe1lido."):t.push("O campo email \xe9 obrigat\xf3rio."),a.senha.length<8&&t.push("Sua senha deve conter no m\xednimo 8 caracteres."),a.senha&&a.senhaRepeticao?a.senha!==a.senhaRepeticao&&t.push("As senhas digitadas n\xe3o s\xe3o iguais."):t.push("Digite a senha e a confirma\xe7\xe3o."),t&&t.length>0)throw new N(t)}}]),e}(T),G=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;return Object(s.a)(this,e),(a=t.call(this)).state={showLoadingDialog:!1},a.goHome=function(){a.props.history.push("/home")},a.aoCadastrarForm=function(t){var e={nome:t.nome,email:t.email,senha:t.senha,senhaRepeticao:t.senhaRepeticao};try{a.service.validar(e)}catch(n){return n.mensagens.forEach((function(a){return F.a.dialog.alert(a,(function(){}))})),!1}a.setState({showLoadingDialog:!0});var o=F.a.dialog.preloader("Carregando...","blue");a.service.salvar(e).then((function(t){o.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert("Usu\xe1rio cadastrado com sucesso!",(function(){})),a.props.history.push("/home")})).catch((function(t){o.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert(t.response.data.message,(function(){}))}))},a.service=new Z,a}return Object(l.a)(e,[{key:"render",value:function(){return Object(o.jsxs)(p.a.Fragment,{children:[Object(o.jsx)(_.a,{infinite:!0,color:"blue",style:{display:this.state.showLoadingDialog?"block":"none"}}),Object(o.jsx)(Y,{cadastrar:this.aoCadastrarForm,voltar:this.goHome})]})}}]),e}(p.a.Component),$=Object(S.g)(G),q=e(109),K=e(84),Q=e.n(K);function X(a){var t=a.meses,e=a.tipos,n=a.buscar,r=a.cadastrar,c=a.duplicarLancamentos,i=Q()().format("YYYY"),s=Q()().format("M"),l=Object(m.useState)(i),u=Object(y.a)(l,2),d=u[0],h=u[1],b=Object(m.useState)(s),j=Object(y.a)(b,2),p=j[0],f=j[1],v=Object(m.useState)(""),O=Object(y.a)(v,2),g=O[0],x=O[1],S=Object(m.useState)(""),A=Object(y.a)(S,2),z=A[0],I=A[1],E=t.map((function(a,t){return Object(o.jsx)("option",{value:a.value,children:a.label},t)})),T=e.map((function(a,t){return Object(o.jsx)("option",{value:a.value,children:a.label},t)}));return Object(o.jsx)(k.a,{children:Object(o.jsxs)(D.a,{children:[Object(o.jsx)(w.a,{children:"Consulta - Lan\xe7amentos"}),Object(o.jsxs)(L.a,{form:!0,children:[Object(o.jsx)(C.a,{label:"Ano",type:"text",placeholder:"Ano",value:d,onInput:function(a){h(a.target.value)}}),Object(o.jsx)(C.a,{label:"Mes",type:"select",placeholder:"Escolha o m\xeas...",value:p,onChange:function(a){f(a.target.value)},children:E}),Object(o.jsx)(C.a,{label:"Descri\xe7\xe3o",type:"text",placeholder:"Descri\xe7\xe3o",value:z,onInput:function(a){I(a.target.value)}}),Object(o.jsx)(C.a,{label:"Tipo",type:"select",placeholder:"Escolha um tipo...",value:g,onChange:function(a){x(a.target.value)},children:T}),Object(o.jsx)("button",{onClick:function(a){a.preventDefault(),c(s)},className:"col button button-raised",children:"Duplicar Lan\xe7amentos"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(a){a.preventDefault(),n({ano:d,mes:p,tipo:g,descricao:z})},className:"col button button-raised",children:"Buscar"}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:r,className:"col button button-raised button-fill",children:"Cadastrar"})]})]})})}var aa=e(105),ta=e(106),ea=e(107),oa=e(108),na=e(45),ra=e.n(na),ca=function(a){var t=function(a){switch(a){case 1:return"JAN";case 2:return"FEV";case 3:return"MAR";case 4:return"ABR";case 5:return"MAI";case 6:return"JUN";case 7:return"JUL";case 8:return"AGO";case 9:return"SET";case 10:return"OUT";case 11:return"NOV";case 12:return"DEZ";default:return"NULL"}},e=0,n=0,r=a.lancamentos.map((function(r){return"RECEITA"===r.tipo?e+=r.valor:n+=r.valor,Object(o.jsx)(aa.a,{title:r.descricao,after:t(r.mes),subtitle:ra.a.format(r.valor,{locale:"pt-BR"}),text:"EFETIVADO"===r.status?"PAGO":r.status,children:Object(o.jsxs)(ta.a,{children:[Object(o.jsx)(ea.a,{children:Object(o.jsx)(oa.a,{fill:!0,color:"green",disabled:"PENDENTE"!==r.status,onClick:function(t){return a.alterarStatus(r,"EFETIVADO")},children:Object(o.jsx)(J.a,{ios:"f7:money_dollar_circle",aurora:"f7:money_dollar_circle",md:"f7:money_dollar_circle"})})}),Object(o.jsx)(ea.a,{children:Object(o.jsx)(oa.a,{fill:!0,color:"yellow",disabled:"PENDENTE"!==r.status,onClick:function(t){return a.alterarStatus(r,"CANCELADO")},children:Object(o.jsx)(J.a,{ios:"f7:nosign",aurora:"f7:nosign",md:"f7:nosign"})})}),Object(o.jsx)(ea.a,{children:Object(o.jsx)(oa.a,{fill:!0,color:"blue",onClick:function(t){return a.editarAction(r.id)},children:Object(o.jsx)(J.a,{ios:"f7:pencil",aurora:"f7:pencil",md:"f7:pencil"})})}),Object(o.jsx)(ea.a,{children:Object(o.jsx)(oa.a,{fill:!0,color:"red",onClick:function(t){return a.deletarAction(r)},children:Object(o.jsx)(J.a,{ios:"f7:trash",aurora:"f7:trash",md:"f7:trash"})})})]})},r.id)}));return r.push(Object(o.jsx)(aa.a,{title:"Saldo",after:"M\xeas Atual",subtitle:ra.a.format(e-n,{locale:"pt-BR"}),text:"Total de receitas debitando total de despesas do m\xeas."},"d685c410-0afb-4d86-a3b5-5802ea5ca2c2")),Object(o.jsx)(k.a,{children:Object(o.jsx)(D.a,{children:Object(o.jsx)(L.a,{mediaList:!0,children:r})})})},ia=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;return Object(s.a)(this,e),(a=t.call(this)).state={showLoadingDialog:!1,showTableDialog:!1,lancamentoDeletar:{},lancamentos:[]},a.aoBuscarForm=function(t){if(!t.ano)return F.a.dialog.alert("O preenchimento do campo Ano \xe9 obrigat\xf3rio.",(function(){})),!1;if(!t.mes)return F.a.dialog.alert("O preenchimento do campo M\xeas \xe9 obrigat\xf3rio.",(function(){})),!1;var e=a.context.usuarioAutenticado,o={ano:t.ano,mes:t.mes,tipo:t.tipo,descricao:t.descricao};a.setState({showLoadingDialog:!0});var n=F.a.dialog.preloader("Carregando...","blue");a.service.consultar(o,e).then((function(t){var e=t.data;e.length<1&&(n.close(),a.setState({showLoadingDialog:!1,showTableDialog:!1}),F.a.dialog.alert("Nenhum resultado encontrado!",(function(){}))),n.close(),a.setState({showLoadingDialog:!1,showTableDialog:!0,lancamentos:e})})).catch((function(t){n.close(),a.setState({showLoadingDialog:!1,showTableDialog:!1}),F.a.dialog.alert("Erro ao consultar lan\xe7amentos. Tente novamente ou mais tarde.",(function(){}))}))},a.aoCadastrarForm=function(){a.props.history.push("/cadastro-lancamentos")},a.editar=function(t){a.props.history.push("/cadastro-lancamentos/".concat(t))},a.aoDuplicarLancamentos=function(t){var e=a.context.usuarioAutenticado;console.log(e.accessToken),a.setState({showLoadingDialog:!0});var o=F.a.dialog.preloader("Carregando...","blue");a.service.duplicarLancamentos(t,e).then((function(e){o.close(),a.setState({showLoadingDialog:!1,showTableDialog:!1}),F.a.dialog.alert("Lan\xe7amentos do m\xeas: "+t+"copiados com sucesso para o pr\xf3ximo m\xeas.",(function(){}))})).catch((function(t){o.close(),a.setState({showLoadingDialog:!1,showTableDialog:!1}),F.a.dialog.alert("Erro ao duplicar lan\xe7amentos. Tente novamente ou mais tarde.",(function(){}))}))},a.aoAlterarStatus=function(t,e){var o=a.context.usuarioAutenticado;a.setState({showLoadingDialog:!0});var n=F.a.dialog.preloader("Carregando...","blue");a.service.alterarStatus(t.id,e,o).then((function(o){var r=a.state.lancamentos,c=r.indexOf(t);-1!==c&&(t.status=e,r[c]=t,a.setState({lancamentos:r})),a.setState({showLoadingDialog:!1}),n.close(),F.a.dialog.alert("Status atualizado com sucesso!",(function(){}))})).catch((function(t){n.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert("Erro ao tentar alterar status do lan\xe7amento.",(function(){}))}))},a.abrirConfirmacao=function(t){var e="Deseja realmente excluir o lan\xe7amento ".concat(t.descricao,"?");F.a.dialog.create({title:"Exclus\xe3o de Lan\xe7amento",text:e,buttons:[{text:"Sim",onClick:function(){return a.deletar(t)}},{text:"N\xe3o"}],verticalButtons:!1}).open()},a.deletar=function(t){var e=a.context.usuarioAutenticado;a.setState({showLoadingDialog:!0});var o=F.a.dialog.preloader("Carregando...","blue");a.service.deletar(t.id,e).then((function(e){var n=a.state.lancamentos,r=n.indexOf(t);n.splice(r,1),F.a.dialog.alert("Lan\xe7amento exclu\xeddo com sucesso!",(function(){})),a.setState({lancamentos:n,showLoadingDialog:!1}),o.close()})).catch((function(t){o.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert("Ocorreu um erro ao tentar excluir o lan\xe7amento.",(function(){}))}))},a.aoSair=function(){a.context.encerrarSessao(),a.props.history.push("/login")},a.goHome=function(){a.props.history.push("/home")},a.fecharTabela=function(){a.setState({showTableDialog:!1})},a.service=new U,a}return Object(l.a)(e,[{key:"render",value:function(){var a=this.service.obterListaMeses(),t=this.service.obterListaTipos();return Object(o.jsxs)(B.a,{children:[Object(o.jsx)(_.a,{infinite:!0,color:"blue",style:{display:this.state.showLoadingDialog?"block":"none"}}),Object(o.jsx)(q.a,{title:"FINAN\xc7AS"}),Object(o.jsx)(X,{meses:a,tipos:t,buscar:this.aoBuscarForm,cadastrar:this.aoCadastrarForm,duplicarLancamentos:this.aoDuplicarLancamentos}),Object(o.jsx)(ca,{lancamentos:this.state.lancamentos,alterarStatus:this.aoAlterarStatus,deletarAction:this.abrirConfirmacao,editarAction:this.editar}),Object(o.jsxs)(W.a,{position:"right-bottom",slot:"fixed",color:"blue",children:[Object(o.jsx)(J.a,{ios:"f7:plus",aurora:"f7:plus",md:"f7:plus"}),Object(o.jsx)(J.a,{ios:"f7:xmark",aurora:"f7:xmark",md:"f7:xmark"}),Object(o.jsxs)(P.a,{position:"top",children:[Object(o.jsx)(V.a,{onClick:this.aoSair,label:"Sair",color:"red",children:Object(o.jsx)(J.a,{ios:"f7:nosign",aurora:"f7:nosign",md:"f7:nosign"})}),Object(o.jsx)(V.a,{onClick:this.goHome,label:"Home",color:"blue",children:Object(o.jsx)(J.a,{ios:"f7:house",aurora:"f7:house",md:"f7:house"})})]})]})]})}}]),e}(p.a.Component);ia.contextType=f;var sa=Object(S.g)(ia);function la(a){var t=a.data,e=a.consultar,n=a.deslogar,r=Object(m.useState)(!1),c=Object(y.a)(r,2),i=c[0],s=c[1],l=t.saldo,u=t.usuario,d=ra.a.format(l,{locale:"pt-BR"});return Object(o.jsxs)(B.a,{children:[Object(o.jsx)(q.a,{title:"FINAN\xc7AS"}),Object(o.jsx)(k.a,{title:"Saldo",content:i?d:"R$ ******",footer:u}),Object(o.jsxs)(W.a,{position:"right-bottom",slot:"fixed",color:"blue",children:[Object(o.jsx)(J.a,{ios:"f7:plus",aurora:"f7:plus",md:"f7:plus"}),Object(o.jsx)(J.a,{ios:"f7:xmark",aurora:"f7:xmark",md:"f7:xmark"}),Object(o.jsxs)(P.a,{position:"top",children:[Object(o.jsx)(V.a,{onClick:n,label:"Sair",color:"red",children:Object(o.jsx)(J.a,{ios:"f7:nosign",aurora:"f7:nosign",md:"f7:nosign"})}),Object(o.jsx)(V.a,{onClick:e,label:"Lan\xe7amentos",children:Object(o.jsx)(J.a,{ios:"f7:money_dollar",aurora:"f7:money_dollar",md:"f7:money_dollar"})}),Object(o.jsx)(V.a,{onClick:function(){i&&s(!1),i||s(!0)},label:"Ver / Ocultar Saldo",color:"red",children:Object(o.jsx)(J.a,{ios:"f7:eye",aurora:"f7:eye",md:"f7:eye"})})]})]})]})}var ua=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;return Object(s.a)(this,e),(a=t.call(this)).state={saldo:0,usuario:""},a.aoConsultarLancamentos=function(){a.props.history.push("/consulta-lancamentos")},a.aoSair=function(){a.context.encerrarSessao(),a.props.history.push("/login")},a.usuarioService=new Z,a}return Object(l.a)(e,[{key:"componentDidMount",value:function(){var a=this,t=this.context.usuarioAutenticado;this.usuarioService.obterSaldoPorUsuario(t).then((function(e){a.setState({saldo:e.data,usuario:t.nome})})).catch((function(e){a.setState({saldo:0,usuario:t.nome}),console.error(e.response)}))}},{key:"render",value:function(){return Object(o.jsx)(la,{data:this.state,consultar:this.aoConsultarLancamentos,deslogar:this.aoSair})}}]),e}(p.a.Component);ua.contextType=f;var da=ua;function ha(a){var t=a.entrar,e=(a.usuarios,Object(m.useState)("")),n=Object(y.a)(e,2),r=n[0],c=n[1],i=Object(m.useState)(""),s=Object(y.a)(i,2),l=s[0],u=s[1];return Object(o.jsxs)(B.a,{noToolbar:!0,noNavbar:!0,noSwipeback:!0,loginScreen:!0,children:[Object(o.jsx)(w.a,{children:"Login"}),Object(o.jsxs)(L.a,{form:!0,children:[Object(o.jsx)(C.a,{label:"E-mail",type:"text",placeholder:"Seu e-mail",value:r,onInput:function(a){c(a.target.value)}}),Object(o.jsx)(C.a,{label:"Senha",type:"password",placeholder:"Sua senha",value:l,onInput:function(a){u(a.target.value)}}),Object(o.jsx)("button",{onClick:function(a){a.preventDefault(),t({email:r,senha:l})},className:"col button button-raised",children:"Entrar"}),Object(o.jsx)("br",{})]}),Object(o.jsx)(L.a,{children:Object(o.jsx)(H.a,{children:"Todos os direitos reservados. 2024"})})]})}var ba=e(113),ja=e.n(ba),ma=function(a){Object(u.a)(e,a);var t=Object(d.a)(e);function e(){var a;return Object(s.a)(this,e),(a=t.call(this)).state={showLoadingDialog:!1},a.aoEntrarForm=function(t){if(!t.email)return F.a.dialog.alert("Favor preencher o campo e-mail...",(function(){})),!1;if(!t.senha)return F.a.dialog.alert("Favor preencher o campo senha...",(function(){})),!1;a.setState({showLoadingDialog:!0});var e=F.a.dialog.preloader("Carregando...","blue");a.service.autenticar({email:t.email.trim(),senha:t.senha}).then((function(t){e.close(),a.context.iniciarSessao(t.data),a.props.history.push("/home")})).catch((function(t){t.response.status===ja.a.FORBIDDEN?(e.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert("Nome de usu\xe1rio / senha inv\xe1lido(s), tente novamente ou mais tarde...",(function(){}))):(e.close(),a.setState({showLoadingDialog:!1}),F.a.dialog.alert("Ocorreu um erro inesperado... Entre em contato com o Administrador.",(function(){})))}))},a.toUsuarios=function(){a.props.history.push("/cadastro-usuarios")},a.service=new Z,a}return Object(l.a)(e,[{key:"render",value:function(){return Object(o.jsxs)(B.a,{children:[Object(o.jsx)(_.a,{infinite:!0,color:"blue",style:{display:this.state.showLoadingDialog?"block":"none"}}),Object(o.jsx)(ha,{entrar:this.aoEntrarForm,usuarios:this.toUsuarios})]})}}]),e}(p.a.Component);ma.contextType=f;var pa=Object(S.g)(ma);function fa(a){var t=a.component,e=a.isUsuarioAutenticado,n=Object(x.a)(a,["component","isUsuarioAutenticado"]);return Object(o.jsx)(S.b,Object(c.a)(Object(c.a)({},n),{},{render:function(a){return e?Object(o.jsx)(t,Object(c.a)({},a)):Object(o.jsx)(S.a,{to:{pathname:"/login",state:{from:a.location}}})}}))}function va(a){return Object(o.jsx)(A.a,{children:Object(o.jsxs)(S.d,{children:[Object(o.jsx)(S.b,{path:"/",exact:!0,component:pa}),Object(o.jsx)(S.b,{path:"/login",component:pa}),Object(o.jsx)(S.b,{path:"/cadastro-usuarios",component:$}),Object(o.jsx)(fa,{isUsuarioAutenticado:a.isUsuarioAutenticado,path:"/home",component:da}),Object(o.jsx)(fa,{isUsuarioAutenticado:a.isUsuarioAutenticado,path:"/consulta-lancamentos",component:sa}),Object(o.jsx)(fa,{isUsuarioAutenticado:a.isUsuarioAutenticado,path:"/cadastro-lancamentos/:id?",component:R})]})})}var Oa=function(){return Object(o.jsx)(v,{children:function(a){return Object(o.jsx)(va,{isUsuarioAutenticado:a.isAutenticado})}})},ga={id:"com.devlhse.confin",name:"CONFIN",theme:"auto",routes:[]};var xa=function(){return Object(o.jsx)(i.a,Object(c.a)(Object(c.a)({},ga),{},{children:Object(o.jsx)(g,{children:Object(o.jsx)(Oa,{})})}))},Sa=e(114),Aa=e.n(Sa);n.a.use(r.a);var ya=document.getElementById("root");Aa.a.render(Object(o.jsx)(p.a.StrictMode,{children:Object(o.jsx)(xa,{})}),ya)}},[[220,1,2]]]);
//# sourceMappingURL=main.62ea82ad.chunk.js.map